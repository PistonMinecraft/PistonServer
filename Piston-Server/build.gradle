import org.pistonmc.build.task.GenProcessedVanillaServerJarTask

plugins {
    id 'java'
    id 'idea'
}
apply from: '../buildScripts/shared.gradle'

task genProcessedJar(type: GenProcessedVanillaServerJarTask) {
    forceProcess = false
}

archivesBaseName = 'piston-server'
version = "${rootProject.ext.MC_VERSION}-${rootProject.ext.VERSION}+${rootProject.ext.BUILD_NUMBER}"

repositories {
    maven {
        name 'paper-repo'
        url 'https://papermc.io/repo/repository/maven-public/'
    }
    maven {
        name 'sponge-repo'
        url 'https://repo-new.spongepowered.org/repository/maven-public'
    }
}

dependencies {
    implementation files(genProcessedJar.execute())
    implementation "com.destroystokyo.paper:paper-api:${rootProject.ext.MC_VERSION}-R0.1-SNAPSHOT"
    implementation 'org.spongepowered:spongeapi:8.0.0-SNAPSHOT'
}